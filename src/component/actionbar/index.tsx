// This is a skeleton starter React component generated by Plasmic.
// This file is owned by you, feel free to edit as you see fit.
import * as React from "react";
import {
  PlasmicActionBar,
  DefaultActionBarProps,
} from "component/plasmic/shared/PlasmicActionBar";
import ComposeEditor from "component/editor/compose";
import { Node } from "slate";

interface ActionBarProps extends DefaultActionBarProps {
  setHasContent: React.Dispatch<React.SetStateAction<undefined | "hasContent">>;
  value: Node[];
  setValue: React.Dispatch<React.SetStateAction<Node[]>>;
  setNumberValue: React.Dispatch<React.SetStateAction<NumberValue>>;
  errorMessage: string;
}

type NumberValue = undefined | number;

function ActionBar(props: ActionBarProps) {
  const {
    setHasContent,
    setNumberValue,
    value,
    setValue,
    errorMessage,
  } = props;

  return (
    <PlasmicActionBar
      error={errorMessage ? "hasError" : undefined}
      errorMessage={errorMessage}
      textContainer={{
        render: () => (
          <ComposeEditor
            setHasContent={setHasContent}
            value={value}
            setNumberValue={setNumberValue}
            setValue={setValue}
          />
        ),
      }}
    />
  );
}

export default ActionBar;
