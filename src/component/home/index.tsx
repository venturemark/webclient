// This is a skeleton starter React component generated by Plasmic.
// This file is owned by you, feel free to edit as you see fit.
import React, { useState } from "react";
import {
  PlasmicHome,
  DefaultHomeProps,
} from "component/plasmic/home/PlasmicHome";
import Update from "component/update";
import { options } from "component/editor/config/initialValues";

interface HomeProps extends DefaultHomeProps {}

const defaultUpdates = [
  {
    id: "now",
    text: [
      {
        children: [
          {
            type: options.p.type,
            children: [
              {
                text: "Be Better Tomorrow",
              },
            ],
          },
        ],
      },
    ],
  },
];

export function Component(props: HomeProps) {
  const [updates, setUpdates] = useState(defaultUpdates);

  console.log("updates", updates);

  return (
    <PlasmicHome
      actionBar={{
        setUpdates: setUpdates,
        updates: updates,
      }}
      updatesContainer={{
        children: updates.map((update: any) => (
          <Update
            text={update.text}
            key={update.id}
            numberValue={update.numberValue}
          />
        )),
      }}
    />
  );
}
