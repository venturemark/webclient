// This is a skeleton starter React component generated by Plasmic.
// This file is owned by you, feel free to edit as you see fit.
import React, { useState } from "react";
import { useFlip, AnimateInOut, linear } from "react-easy-flip";
import {
  PlasmicUpdate,
  DefaultUpdateProps
} from "component/plasmic/flipcard/PlasmicUpdate";
import "./index.css";

interface UpdateProps extends DefaultUpdateProps {}

type UpdateState = "text" | "graph";

export function Component(props: UpdateProps) {
  const [updateView, setUpdateView] = useState<UpdateState>("text");

  useFlip("flip-root", {
    duration: 1800
  });

  return (
    <div data-flip-root-id="flip-root">
      <AnimateInOut
        out={{
          from: { transform: "rotate(25deg)", opacity: 1 },
          to: { transform: "rotate(65deg)", opacity: 1 },
          duration: 1000
        }}
        in={{
          from: { opacity: 1 },
          to: { transform: "rotate(90deg)", opacity: 1 },
          duration: 800
        }}
        playOnFirstRender
      >
        <div data-flip-id="animated-update">
          <PlasmicUpdate
            {...props}
            className={"update"}
            state={updateView}
            toggleUpdateView={{
              "aria-label": "Toggle View",
              onPress: () => {
                const view = updateView === "text" ? "graph" : "text";
                setUpdateView(view);
              }
            }}
          />
        </div>
      </AnimateInOut>
    </div>
  );
}
